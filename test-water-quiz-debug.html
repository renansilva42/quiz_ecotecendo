<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - Quiz das Águas</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .debug { background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>🔍 Debug - Quiz das Águas</h1>
    
    <div class="debug info">
        <h3>📊 Informações da URL:</h3>
        <p><strong>URL Completa:</strong> <span id="fullUrl"></span></p>
        <p><strong>Pathname:</strong> <span id="pathname"></span></p>
        <p><strong>Search:</strong> <span id="search"></span></p>
        <p><strong>Hash:</strong> <span id="hash"></span></p>
    </div>
    
    <div class="debug" id="waterQuizMode">
        <h3>🌊 Modo Water Quiz:</h3>
        <p><strong>WATER_QUIZ_MODE:</strong> <span id="waterQuizModeValue"></span></p>
    </div>
    
    <div class="debug" id="detectionResults">
        <h3>🎯 Resultados da Detecção:</h3>
        <p><strong>Detectado por pathname:</strong> <span id="detectedByPath"></span></p>
        <p><strong>Detectado por search:</strong> <span id="detectedBySearch"></span></p>
        <p><strong>Detectado por hash:</strong> <span id="detectedByHash"></span></p>
        <p><strong>Detectado por href:</strong> <span id="detectedByHref"></span></p>
    </div>
    
    <div class="debug" id="recommendations">
        <h3>💡 Recomendações:</h3>
        <ul id="recommendationsList"></ul>
    </div>
    
    <div class="debug">
        <h3>🔗 Links de Teste:</h3>
        <p><a href="/water-quiz.html" target="_blank">Teste: /water-quiz.html</a></p>
        <p><a href="/water-quiz" target="_blank">Teste: /water-quiz</a></p>
        <p><a href="/?water-quiz" target="_blank">Teste: /?water-quiz</a></p>
        <p><a href="/#water-quiz" target="_blank">Teste: /#water-quiz</a></p>
    </div>

    <script>
        // Capturar informações da URL
        document.getElementById('fullUrl').textContent = window.location.href;
        document.getElementById('pathname').textContent = window.location.pathname;
        document.getElementById('search').textContent = window.location.search;
        document.getElementById('hash').textContent = window.location.hash;
        
        // Verificar WATER_QUIZ_MODE
        const waterQuizMode = window.WATER_QUIZ_MODE;
        document.getElementById('waterQuizModeValue').textContent = waterQuizMode ? 'true' : 'false';
        
        if (waterQuizMode) {
            document.getElementById('waterQuizMode').className = 'debug success';
        } else {
            document.getElementById('waterQuizMode').className = 'debug error';
        }
        
        // Verificar detecção
        const pathname = window.location.pathname;
        const search = window.location.search;
        const hash = window.location.hash;
        const href = window.location.href;
        
        const detectedByPath = pathname.includes('water-quiz');
        const detectedBySearch = search.includes('water-quiz');
        const detectedByHash = hash.includes('water-quiz');
        const detectedByHref = href.includes('water-quiz');
        
        document.getElementById('detectedByPath').textContent = detectedByPath ? '✅ Sim' : '❌ Não';
        document.getElementById('detectedBySearch').textContent = detectedBySearch ? '✅ Sim' : '❌ Não';
        document.getElementById('detectedByHash').textContent = detectedByHash ? '✅ Sim' : '❌ Não';
        document.getElementById('detectedByHref').textContent = detectedByHref ? '✅ Sim' : '❌ Não';
        
        // Gerar recomendações
        const recommendations = [];
        
        if (!waterQuizMode && !detectedByPath && !detectedBySearch && !detectedByHash) {
            recommendations.push('❌ Nenhuma detecção de water-quiz encontrada');
            recommendations.push('💡 Tente acessar /water-quiz.html diretamente');
        }
        
        if (detectedByPath) {
            recommendations.push('✅ Pathname contém water-quiz - deve funcionar');
        }
        
        if (detectedBySearch) {
            recommendations.push('✅ Search contém water-quiz - deve funcionar');
        }
        
        if (detectedByHash) {
            recommendations.push('✅ Hash contém water-quiz - deve funcionar');
        }
        
        if (waterQuizMode) {
            recommendations.push('✅ WATER_QUIZ_MODE ativado - deve funcionar');
        }
        
        const recommendationsList = document.getElementById('recommendationsList');
        recommendations.forEach(rec => {
            const li = document.createElement('li');
            li.innerHTML = rec;
            recommendationsList.appendChild(li);
        });
        
        // Colorir resultados da detecção
        const detectionDiv = document.getElementById('detectionResults');
        if (detectedByPath || detectedBySearch || detectedByHash || waterQuizMode) {
            detectionDiv.className = 'debug success';
        } else {
            detectionDiv.className = 'debug error';
        }
    </script>
</body>
</html>
